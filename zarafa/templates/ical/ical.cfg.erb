##############################################################
# ICAL SETTINGS

# drop privileges and run the process as this user
run_as_user					= <%= scope.lookupvar('zarafa::params::zarafa_user') %>

# drop privileges and run the process as this group
run_as_group				= <%= scope.lookupvar('zarafa::params::zarafa_group') %>

# create a pid file for stopping the service via the init.d scripts
pid_file						= /var/run/zarafa-ical.pid

# run server in this path (when not using the -F switch)
running_path				= /

# create memory coredumps upon crash in the running_path directory
# not yet implemented
#coredump_enabled         = <%= @coredump_enabled %>

# IP Address to bind to (0.0.0.0 for ANY)
server_bind					= <%= @server_bind %>

# wether normal connections can be made to the ical server
ical_enable					= <%= @ical_enable %>

# port which the ical server listens on for normal connections
ical_port					= <%= @ical_port %>

# wether ssl connections can be made to the ical server
icals_enable				= <%= @icals_enable %>

# port which the ical server listens on for ssl connections
icals_port					= <%= @icals_port %>

# default connection to the Zarafa server
# Please refer to the administrator manual or manpage why HTTP is used rather than the UNIX socket.
server_socket				= <%= @server_socket %>

# Process model, using pthreads (thread) or processes (fork)
process_model				= fork

##############################################################
# ICAL LOG SETTINGS

# Logging method (syslog, file)
log_method					= syslog

# Loglevel (0=no logging, 5=full logging)
log_level					= <%= scope.lookupvar('zarafa::params::log_level') %>

# Logfile for log_method = file, use '-' for stderr
log_file						= /var/log/zarafa/ical.log

# Log timestamp - prefix each log line with timestamp in 'file' logging mode
log_timestamp				= 1

##############################################################
# ICAL SSL SETTINGS FOR INCOMING CONNECTIONS

# File with RSA key for SSL
ssl_private_key_file		= <%= scope.lookupvar('zarafa::params::ssl_dir') %>/<%= scope.lookupvar('zarafa::params::ssl_gateway_priv_key') %>

# File with certificate for SSL
ssl_certificate_file		= <%= scope.lookupvar('zarafa::params::ssl_dir') %>/<%= scope.lookupvar('zarafa::params::ssl_gateway_cert') %>

# Verify client certificate
ssl_verify_client			= no

# Client verify file and/or path
ssl_verify_file			= 
ssl_verify_path			= /etc/ssl/certs/

# Accept SSLv2 only incoming connections
ssl_enable_v2				= no

##############################################################
# OTHER ICAL SETTINGS

# The timezone of the system clock
server_timezone			= Europe/Berlin

# The charset of data to expect when the client doesn't specify any
default_charset			= utf-8

# Enable the iCalendar GET method for downloading calendars
enable_ical_get			= yes
